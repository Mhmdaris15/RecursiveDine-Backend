{
	"info": {
		"_postman_id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
		"name": "RecursiveDine API",
		"description": "Complete API collection for RecursiveDine restaurant self-service ordering system",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12345678"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('user_id', response.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"securepassword123\",\n  \"phone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					}
				},
				{
					"name": "Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.access_token);",
									"    pm.environment.set('refresh_token', response.refresh_token);",
									"    pm.environment.set('user_id', response.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"securepassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					}
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.access_token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"refresh"
							]
						}
					}
				},
				{
					"name": "Logout User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						}
					}
				}
			]
		},
		{
			"name": "Table Management",
			"item": [
				{
					"name": "Get Table by QR Code (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tables/QR123456",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tables",
								"QR123456"
							]
						}
					}
				},
				{
					"name": "Get All Tables (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/tables?page=1&limit=10&status=available",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"tables"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "available"
								}
							]
						}
					}
				},
				{
					"name": "Create Table (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('table_id', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"number\": \"T025\",\n  \"capacity\": 6,\n  \"location\": \"VIP Section\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/tables",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"tables"
							]
						}
					}
				},
				{
					"name": "Update Table (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"number\": \"T025-VIP\",\n  \"capacity\": 8,\n  \"location\": \"VIP Section Premium\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/tables/{{table_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"tables",
								"{{table_id}}"
							]
						}
					}
				},
				{
					"name": "Update Table Status (Admin)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"maintenance\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/tables/{{table_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"tables",
								"{{table_id}}",
								"status"
							]
						}
					}
				},
				{
					"name": "Delete Table (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/tables/{{table_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"tables",
								"{{table_id}}"
							]
						}
					}
				}
			]
		},
		{
			"name": "Menu Management",
			"item": [
				{
					"name": "Get Menu (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/menu",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"menu"
							]
						}
					}
				},
				{
					"name": "Get Menu Categories (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/menu/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"menu",
								"categories"
							]
						}
					}
				},
				{
					"name": "Search Menu Items (Public)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/menu/items/search?q=salad&category_id=1&min_price=10&max_price=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"menu",
								"items",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "salad"
								},
								{
									"key": "category_id",
									"value": "1"
								},
								{
									"key": "min_price",
									"value": "10"
								},
								{
									"key": "max_price",
									"value": "20"
								}
							]
						}
					}
				},
				{
					"name": "Create Menu Category (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('category_id', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Desserts\",\n  \"description\": \"Sweet endings to your meal\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/menu/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"menu",
								"categories"
							]
						}
					}
				},
				{
					"name": "Create Menu Item (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('menu_item_id', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Chocolate Cake\",\n  \"description\": \"Rich chocolate cake with ganache\",\n  \"price\": 8.99,\n  \"category_id\": 2,\n  \"image_url\": \"/images/chocolate-cake.jpg\",\n  \"preparation_time\": 15,\n  \"is_available\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/menu/items",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"menu",
								"items"
							]
						}
					}
				},
				{
					"name": "Update Menu Item Availability (Admin/Staff)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"is_available\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/menu/items/{{menu_item_id}}/availability",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"menu",
								"items",
								"{{menu_item_id}}",
								"availability"
							]
						}
					}
				}
			]
		},
		{
			"name": "Order Management",
			"item": [
				{
					"name": "Create Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('order_id', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"table_id\": 1,\n  \"special_notes\": \"No onions please\",\n  \"items\": [\n    {\n      \"menu_item_id\": 1,\n      \"quantity\": 2,\n      \"special_request\": \"Extra dressing\"\n    },\n    {\n      \"menu_item_id\": 5,\n      \"quantity\": 1,\n      \"special_request\": \"\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						}
					}
				},
				{
					"name": "Get User Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/orders?page=1&limit=10&status=pending",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "pending"
								}
							]
						}
					}
				},
				{
					"name": "Get Order Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/orders/{{order_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders",
								"{{order_id}}"
							]
						}
					}
				},
				{
					"name": "Get All Orders (Admin/Staff)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/orders?page=1&limit=10&status=confirmed&user_id=1&table_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"orders"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "confirmed"
								},
								{
									"key": "user_id",
									"value": "1"
								},
								{
									"key": "table_id",
									"value": "1"
								}
							]
						}
					}
				},
				{
					"name": "Update Order Status (Admin/Staff)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"preparing\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/orders/{{order_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"orders",
								"{{order_id}}",
								"status"
							]
						}
					}
				},
				{
					"name": "Get Order Statistics (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/orders/statistics?from=2025-07-01&to=2025-07-31",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"orders",
								"statistics"
							],
							"query": [
								{
									"key": "from",
									"value": "2025-07-01"
								},
								{
									"key": "to",
									"value": "2025-07-31"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Payment Management",
			"item": [
				{
					"name": "Initiate QRIS Payment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('payment_id', response.payment_id);",
									"    pm.environment.set('transaction_id', response.transaction_id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"order_id\": {{order_id}},\n  \"payment_method\": \"qris\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/payments/qris",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"payments",
								"qris"
							]
						}
					}
				},
				{
					"name": "Verify Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transaction_id\": \"{{transaction_id}}\",\n  \"external_id\": \"QRIS123456789\",\n  \"amount\": 32.97,\n  \"status\": \"success\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/payments/verify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"payments",
								"verify"
							]
						}
					}
				},
				{
					"name": "Process Cash Payment (Cashier)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"order_id\": {{order_id}},\n  \"amount_paid\": 35.00,\n  \"change_amount\": 2.03\n}"
						},
						"url": {
							"raw": "{{base_url}}/cashier/payments/cash",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"cashier",
								"payments",
								"cash"
							]
						}
					}
				},
				{
					"name": "Get All Payments (Admin/Cashier)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/payments?page=1&limit=10&status=completed&method=qris",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"payments"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "completed"
								},
								{
									"key": "method",
									"value": "qris"
								}
							]
						}
					}
				},
				{
					"name": "Process Refund (Admin/Cashier)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 32.97,\n  \"reason\": \"Customer complaint - food quality\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/payments/{{payment_id}}/refund",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"payments",
								"{{payment_id}}",
								"refund"
							]
						}
					}
				},
				{
					"name": "Reconcile Cash Payments (Cashier)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"actual_cash_amount\": 450.75,\n  \"expected_cash_amount\": 455.00,\n  \"shift_start_time\": \"2025-07-20T08:00:00Z\",\n  \"shift_end_time\": \"2025-07-20T16:00:00Z\",\n  \"notes\": \"5 dollar bill missing, investigating\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/cashier/payments/reconcile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"cashier",
								"payments",
								"reconcile"
							]
						}
					}
				},
				{
					"name": "Get Payment Statistics (Admin/Cashier)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/payments/statistics?from=2025-07-01&to=2025-07-31&method=qris",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"payments",
								"statistics"
							],
							"query": [
								{
									"key": "from",
									"value": "2025-07-01"
								},
								{
									"key": "to",
									"value": "2025-07-31"
								},
								{
									"key": "method",
									"value": "qris"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "User Management (Admin)",
			"item": [
				{
					"name": "Get All Users (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/users?page=1&limit=10&role=customer",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "role",
									"value": "customer"
								}
							]
						}
					}
				},
				{
					"name": "Create User (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane Smith\",\n  \"email\": \"jane@example.com\",\n  \"password\": \"securepassword123\",\n  \"phone\": \"+1234567891\",\n  \"role\": \"staff\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"users"
							]
						}
					}
				},
				{
					"name": "Update User (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane Smith Updated\",\n  \"email\": \"jane.updated@example.com\",\n  \"phone\": \"+1234567892\",\n  \"role\": \"cashier\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/users/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"users",
								"{{user_id}}"
							]
						}
					}
				},
				{
					"name": "Delete User (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/users/{{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"users",
								"{{user_id}}"
							]
						}
					}
				}
			]
		},
		{
			"name": "Health & Monitoring",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						}
					}
				},
				{
					"name": "Prometheus Metrics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/metrics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"metrics"
							]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8002/api/v1",
			"type": "string"
		}
	]
}
